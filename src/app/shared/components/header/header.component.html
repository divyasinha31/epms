<mat-toolbar color="primary" class="app-header">
    <div class="header-content">
        <!-- Menu toggle button -->
        <button mat-icon-button class="menu-toggle" (click)="onToggleSidebar()" aria-label="Toggle navigation">
            <mat-icon>menu</mat-icon>
        </button>

        <!-- Logo and title -->
        <div class="logo-section">
            <mat-icon class="logo-icon">business</mat-icon>

            <span class="app-title">EPMS</span>
        </div>

        <!-- Spacer -->
        <div class="spacer"></div>

        <!-- Header actions -->
        <div class="header-actions">
            <!-- Notifications (placeholder) -->
            <button mat-icon-button class="notification-button" [matBadge]="3" matBadgeColor="warn" matBadgeSize="small"
                aria-label="Notifications">
                <mat-icon>notifications</mat-icon>
            </button>

            <!-- User menu -->
            <button mat-button [matMenuTriggerFor]="userMenu" class="user-button" aria-label="User menu">
                <div class="user-avatar">{{ getUserInitials() }}</div>

                <span class="user-name hide-mobile">{{ currentUser.firstName }}</span>

                <mat-icon>arrow_drop_down</mat-icon>
            </button>
        </div>
    </div>
</mat-toolbar>

<!-- User Menu -->
<mat-menu #userMenu="matMenu" class="user-menu">
    <div class="user-info" mat-menu-item disabled>
        <div class="user-avatar large">{{ getUserInitials() }}</div>

        <div class="user-details">
            <div class="user-name">{{ currentUser.firstName }} {{ currentUser.lastName }}</div>

            <div class="user-role">{{ getUserRoleDisplayName() }}</div>

            <div class="user-email">{{ currentUser.email }}</div>
        </div>
    </div>

    <mat-divider></mat-divider>

    <button mat-menu-item (click)="navigateToProfile()">
        <mat-icon>person</mat-icon>

        <span>Profile</span>
    </button>

    <button mat-menu-item (click)="navigateToSettings()">
        <mat-icon>settings</mat-icon>

        <span>Settings</span>
    </button>
    
    <mat-divider></mat-divider>
    
    <button mat-menu-item (click)="logout()">
        <mat-icon>logout</mat-icon>

        <span>Logout</span>
    </button>
</mat-menu>
