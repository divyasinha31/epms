<div class="app-container">
  <!-- Initial Loading -->
  <div class="loading-layout" *ngIf="!isInitialized">
    <mat-spinner></mat-spinner>
    <p>Loading application...</p>
  </div>

  <!-- Authenticated Layout -->
  <div class="authenticated-layout" *ngIf="shouldShowAuthLayout">
    <!-- Header -->
    <app-header [currentUser]="currentUser" (toggleSidebar)="toggleSidebar()"></app-header>
    
    <!-- Main Layout -->
    <div class="main-layout">
      <!-- Sidebar -->
      <app-sidebar [currentUser]="currentUser" [isOpen]="sidebarOpen" class="sidebar"></app-sidebar>
      
      <!-- Content Area -->
      <main class="content-area" [class.sidebar-open]="sidebarOpen">
        <router-outlet></router-outlet>
      </main>
    </div>
  </div>

  <!-- Login Layout -->
  <div class="login-layout" *ngIf="shouldShowLoginLayout">
    <router-outlet></router-outlet>
  </div>
</div>